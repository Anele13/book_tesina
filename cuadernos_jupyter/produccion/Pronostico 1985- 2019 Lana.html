
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Pronostico 1985- 2019 Lana &#8212; Tesina de Grado</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo_facultad.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Tesina de Grado</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Buscar este libro ..." aria-label="Buscar este libro ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../estructura/intro.html">
   Sistema de Información y Apoyo a la Producción Ovina de Baja Escala en Chubut
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../estructura/preliminares.html">
   Preliminares
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../estructura/marco_teorico.html">
   Marco Teorico
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../../estructura/desarrollo.html">
   Desarrollo
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../forraje/analisis_forraje_arbol_regresion.html">
     Árbol de regresión Forraje
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../forraje/analisis_forraje_KNN.html">
     Análisis Forraje k-Nearest Neighbor
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Navegación de palanca" aria-controls="site-navigation"
                title="Navegación de palanca" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Descarga esta pagina"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/cuadernos_jupyter/produccion/Pronostico 1985- 2019 Lana.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Descargar archivo fuente" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Imprimir en PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/LucilaAllende/datos-tesina-2021"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Repositorio de origen"><i
                    class="fab fa-github"></i>repositorio</button></a>
        <a class="issues-button"
            href="https://github.com/LucilaAllende/datos-tesina-2021/issues/new?title=Issue%20on%20page%20%2Fcuadernos_jupyter/produccion/Pronostico 1985- 2019 Lana.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Abrir un problema"><i class="fas fa-lightbulb"></i>Tema abierto</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Modo de pantalla completa"
        title="Modo de pantalla completa"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/LucilaAllende/datos-tesina-2021/master?urlpath=tree/docs/cuadernos_jupyter/produccion/Pronostico 1985- 2019 Lana.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Lanzamiento Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contenido
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#intentamos-predecir-la-cantidad-de-kilos-de-lana-que-va-a-sacar">
   Intentamos predecir la cantidad de kilos de lana que va a sacar
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Pronostico 1985- 2019 Lana</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contenido </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#intentamos-predecir-la-cantidad-de-kilos-de-lana-que-va-a-sacar">
   Intentamos predecir la cantidad de kilos de lana que va a sacar
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="pronostico-1985-2019-lana">
<h1>Pronostico 1985- 2019 Lana<a class="headerlink" href="#pronostico-1985-2019-lana" title="Permalink to this headline">¶</a></h1>
<section id="intentamos-predecir-la-cantidad-de-kilos-de-lana-que-va-a-sacar">
<h2>Intentamos predecir la cantidad de kilos de lana que va a sacar<a class="headerlink" href="#intentamos-predecir-la-cantidad-de-kilos-de-lana-que-va-a-sacar" title="Permalink to this headline">¶</a></h2>
<p>Importamos las librerias necesarias</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;fivethirtyeight&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="nn">Input In [1],</span> in <span class="ni">&lt;cell line: 5&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="ne">----&gt; </span><span class="mi">5</span> <span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">mean_squared_error</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;statsmodels&#39;
</pre></div>
</div>
</div>
</div>
<p>Cargamos datos de produccion y del clima de los ulltimos 35 años</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;datos_produccion_clima_35.csv&#39;</span><span class="p">)</span>
<span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fecha</th>
      <th>esquila</th>
      <th>ovejas</th>
      <th>corderos</th>
      <th>kilos_lana</th>
      <th>rinde_seco</th>
      <th>finura</th>
      <th>kilo_lana_p/animal</th>
      <th>porcentaje_paricion</th>
      <th>temp_media</th>
      <th>temp_min</th>
      <th>tem_max</th>
      <th>humedad</th>
      <th>cant_lluvia</th>
      <th>rad_solar</th>
      <th>vel_viento</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>31/12/1985</td>
      <td>3514</td>
      <td>1419</td>
      <td>912</td>
      <td>15600</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>4.44</td>
      <td>64.27</td>
      <td>14.3</td>
      <td>6.4</td>
      <td>20.9</td>
      <td>0.0</td>
      <td>208.6</td>
      <td>0.0</td>
      <td>6.1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>31/12/1986</td>
      <td>3783</td>
      <td>1520</td>
      <td>680</td>
      <td>18167</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>4.80</td>
      <td>44.74</td>
      <td>12.9</td>
      <td>5.8</td>
      <td>20.5</td>
      <td>58.1</td>
      <td>130.3</td>
      <td>0.0</td>
      <td>6.8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>31/12/1987</td>
      <td>3988</td>
      <td>1928</td>
      <td>512</td>
      <td>11200</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>2.81</td>
      <td>26.56</td>
      <td>13.8</td>
      <td>6.8</td>
      <td>20.7</td>
      <td>60.3</td>
      <td>199.5</td>
      <td>0.0</td>
      <td>6.4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>31/12/1988</td>
      <td>3590</td>
      <td>1560</td>
      <td>310</td>
      <td>13197</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>3.68</td>
      <td>19.87</td>
      <td>12.9</td>
      <td>5.5</td>
      <td>20.4</td>
      <td>54.9</td>
      <td>85.5</td>
      <td>0.0</td>
      <td>6.3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>31/12/1989</td>
      <td>2830</td>
      <td>1210</td>
      <td>150</td>
      <td>12300</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>4.35</td>
      <td>12.40</td>
      <td>14.5</td>
      <td>7.1</td>
      <td>21.9</td>
      <td>56.5</td>
      <td>92.5</td>
      <td>0.0</td>
      <td>6.3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>31/12/1990</td>
      <td>2396</td>
      <td>998</td>
      <td>124</td>
      <td>13900</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>5.80</td>
      <td>12.42</td>
      <td>14.2</td>
      <td>6.8</td>
      <td>21.7</td>
      <td>56.2</td>
      <td>96.0</td>
      <td>0.0</td>
      <td>7.4</td>
    </tr>
    <tr>
      <th>6</th>
      <td>31/12/1991</td>
      <td>2503</td>
      <td>1122</td>
      <td>60</td>
      <td>15800</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>6.31</td>
      <td>5.35</td>
      <td>13.2</td>
      <td>5.8</td>
      <td>20.6</td>
      <td>60.3</td>
      <td>240.0</td>
      <td>0.0</td>
      <td>6.3</td>
    </tr>
    <tr>
      <th>7</th>
      <td>31/12/1992</td>
      <td>2790</td>
      <td>1125</td>
      <td>70</td>
      <td>11600</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>4.16</td>
      <td>6.22</td>
      <td>14.4</td>
      <td>4.7</td>
      <td>19.9</td>
      <td>62.2</td>
      <td>335.2</td>
      <td>0.0</td>
      <td>6.4</td>
    </tr>
    <tr>
      <th>8</th>
      <td>31/12/1993</td>
      <td>2765</td>
      <td>1240</td>
      <td>65</td>
      <td>10306</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>3.73</td>
      <td>5.24</td>
      <td>14.8</td>
      <td>5.5</td>
      <td>21.0</td>
      <td>58.1</td>
      <td>155.7</td>
      <td>0.0</td>
      <td>5.9</td>
    </tr>
    <tr>
      <th>9</th>
      <td>31/12/1994</td>
      <td>2641</td>
      <td>925</td>
      <td>34</td>
      <td>9000</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>3.41</td>
      <td>3.68</td>
      <td>13.5</td>
      <td>4.6</td>
      <td>24.3</td>
      <td>53.7</td>
      <td>82.5</td>
      <td>0.0</td>
      <td>15.5</td>
    </tr>
    <tr>
      <th>10</th>
      <td>31/12/1995</td>
      <td>2207</td>
      <td>1159</td>
      <td>527</td>
      <td>9931</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>4.50</td>
      <td>45.47</td>
      <td>11.9</td>
      <td>2.6</td>
      <td>22.0</td>
      <td>18.5</td>
      <td>267.8</td>
      <td>0.0</td>
      <td>14.1</td>
    </tr>
    <tr>
      <th>11</th>
      <td>31/12/1996</td>
      <td>2166</td>
      <td>849</td>
      <td>410</td>
      <td>9730</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>4.49</td>
      <td>48.29</td>
      <td>13.9</td>
      <td>5.3</td>
      <td>22.9</td>
      <td>42.6</td>
      <td>59.8</td>
      <td>0.0</td>
      <td>5.8</td>
    </tr>
    <tr>
      <th>12</th>
      <td>31/12/1997</td>
      <td>1940</td>
      <td>768</td>
      <td>520</td>
      <td>11763</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>6.06</td>
      <td>67.71</td>
      <td>13.0</td>
      <td>6.4</td>
      <td>20.0</td>
      <td>56.3</td>
      <td>278.6</td>
      <td>0.0</td>
      <td>5.9</td>
    </tr>
    <tr>
      <th>13</th>
      <td>31/12/1998</td>
      <td>2805</td>
      <td>1124</td>
      <td>507</td>
      <td>12400</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>4.42</td>
      <td>45.11</td>
      <td>13.5</td>
      <td>6.7</td>
      <td>20.7</td>
      <td>49.9</td>
      <td>355.0</td>
      <td>0.0</td>
      <td>6.7</td>
    </tr>
    <tr>
      <th>14</th>
      <td>31/12/1999</td>
      <td>3000</td>
      <td>1124</td>
      <td>507</td>
      <td>13700</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>4.57</td>
      <td>45.11</td>
      <td>12.4</td>
      <td>5.6</td>
      <td>19.3</td>
      <td>55.1</td>
      <td>302.4</td>
      <td>0.0</td>
      <td>12.2</td>
    </tr>
    <tr>
      <th>15</th>
      <td>31/12/2000</td>
      <td>3200</td>
      <td>1632</td>
      <td>672</td>
      <td>17349</td>
      <td>65.27</td>
      <td>20.80</td>
      <td>5.42</td>
      <td>41.18</td>
      <td>14.0</td>
      <td>5.5</td>
      <td>23.0</td>
      <td>42.0</td>
      <td>212.5</td>
      <td>0.0</td>
      <td>11.1</td>
    </tr>
    <tr>
      <th>16</th>
      <td>31/12/2001</td>
      <td>3389</td>
      <td>1378</td>
      <td>450</td>
      <td>13522</td>
      <td>61.80</td>
      <td>21.00</td>
      <td>3.99</td>
      <td>32.66</td>
      <td>13.3</td>
      <td>6.1</td>
      <td>20.5</td>
      <td>21.9</td>
      <td>188.1</td>
      <td>0.0</td>
      <td>6.5</td>
    </tr>
    <tr>
      <th>17</th>
      <td>31/12/2002</td>
      <td>3500</td>
      <td>1688</td>
      <td>824</td>
      <td>17358</td>
      <td>61.65</td>
      <td>20.93</td>
      <td>4.96</td>
      <td>48.82</td>
      <td>12.7</td>
      <td>6.4</td>
      <td>19.5</td>
      <td>56.4</td>
      <td>218.0</td>
      <td>0.0</td>
      <td>9.0</td>
    </tr>
    <tr>
      <th>18</th>
      <td>31/12/2003</td>
      <td>3850</td>
      <td>1952</td>
      <td>480</td>
      <td>11554</td>
      <td>61.10</td>
      <td>19.60</td>
      <td>3.00</td>
      <td>24.59</td>
      <td>12.2</td>
      <td>3.7</td>
      <td>22.2</td>
      <td>55.7</td>
      <td>161.0</td>
      <td>4894.2</td>
      <td>8.2</td>
    </tr>
    <tr>
      <th>19</th>
      <td>31/12/2004</td>
      <td>3624</td>
      <td>1860</td>
      <td>816</td>
      <td>11267</td>
      <td>57.50</td>
      <td>19.20</td>
      <td>3.11</td>
      <td>43.87</td>
      <td>12.9</td>
      <td>4.9</td>
      <td>22.4</td>
      <td>58.2</td>
      <td>143.9</td>
      <td>4916.0</td>
      <td>7.9</td>
    </tr>
    <tr>
      <th>20</th>
      <td>31/12/2005</td>
      <td>4239</td>
      <td>3083</td>
      <td>820</td>
      <td>15753</td>
      <td>56.80</td>
      <td>18.50</td>
      <td>3.72</td>
      <td>26.60</td>
      <td>12.5</td>
      <td>4.3</td>
      <td>21.5</td>
      <td>61.6</td>
      <td>179.8</td>
      <td>5019.0</td>
      <td>7.9</td>
    </tr>
    <tr>
      <th>21</th>
      <td>31/12/2006</td>
      <td>3634</td>
      <td>1850</td>
      <td>555</td>
      <td>13785</td>
      <td>57.80</td>
      <td>19.30</td>
      <td>3.79</td>
      <td>30.00</td>
      <td>13.4</td>
      <td>6.0</td>
      <td>21.1</td>
      <td>51.5</td>
      <td>200.5</td>
      <td>4392.7</td>
      <td>8.8</td>
    </tr>
    <tr>
      <th>22</th>
      <td>31/12/2007</td>
      <td>3146</td>
      <td>1842</td>
      <td>79</td>
      <td>10336</td>
      <td>58.30</td>
      <td>19.30</td>
      <td>3.29</td>
      <td>4.29</td>
      <td>12.5</td>
      <td>5.2</td>
      <td>20.0</td>
      <td>50.9</td>
      <td>194.4</td>
      <td>4384.8</td>
      <td>7.4</td>
    </tr>
    <tr>
      <th>23</th>
      <td>31/12/2008</td>
      <td>1677</td>
      <td>1232</td>
      <td>500</td>
      <td>5245</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>3.13</td>
      <td>40.58</td>
      <td>13.4</td>
      <td>5.8</td>
      <td>21.1</td>
      <td>54.3</td>
      <td>163.3</td>
      <td>4129.4</td>
      <td>6.8</td>
    </tr>
    <tr>
      <th>24</th>
      <td>31/12/2009</td>
      <td>1931</td>
      <td>1101</td>
      <td>400</td>
      <td>8739</td>
      <td>53.10</td>
      <td>19.60</td>
      <td>4.53</td>
      <td>36.33</td>
      <td>13.4</td>
      <td>6.0</td>
      <td>20.8</td>
      <td>50.1</td>
      <td>168.5</td>
      <td>4093.6</td>
      <td>9.4</td>
    </tr>
    <tr>
      <th>25</th>
      <td>31/12/2010</td>
      <td>2221</td>
      <td>1009</td>
      <td>79</td>
      <td>9164</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>4.13</td>
      <td>7.83</td>
      <td>13.1</td>
      <td>5.7</td>
      <td>20.6</td>
      <td>50.5</td>
      <td>184.0</td>
      <td>4439.2</td>
      <td>8.4</td>
    </tr>
    <tr>
      <th>26</th>
      <td>31/12/2011</td>
      <td>1651</td>
      <td>970</td>
      <td>300</td>
      <td>6516</td>
      <td>55.00</td>
      <td>18.50</td>
      <td>3.95</td>
      <td>30.93</td>
      <td>13.8</td>
      <td>6.3</td>
      <td>21.3</td>
      <td>50.6</td>
      <td>130.7</td>
      <td>4266.2</td>
      <td>6.8</td>
    </tr>
    <tr>
      <th>27</th>
      <td>31/12/2012</td>
      <td>1708</td>
      <td>896</td>
      <td>432</td>
      <td>8376</td>
      <td>53.90</td>
      <td>20.20</td>
      <td>4.90</td>
      <td>48.21</td>
      <td>13.5</td>
      <td>6.1</td>
      <td>20.9</td>
      <td>50.4</td>
      <td>171.8</td>
      <td>4208.4</td>
      <td>4.9</td>
    </tr>
    <tr>
      <th>28</th>
      <td>31/12/2013</td>
      <td>1976</td>
      <td>923</td>
      <td>582</td>
      <td>9892</td>
      <td>53.90</td>
      <td>20.30</td>
      <td>5.01</td>
      <td>63.06</td>
      <td>13.6</td>
      <td>6.8</td>
      <td>20.7</td>
      <td>56.3</td>
      <td>197.6</td>
      <td>4248.9</td>
      <td>4.4</td>
    </tr>
    <tr>
      <th>29</th>
      <td>31/12/2014</td>
      <td>2788</td>
      <td>1800</td>
      <td>200</td>
      <td>10510</td>
      <td>56.10</td>
      <td>19.40</td>
      <td>3.77</td>
      <td>11.11</td>
      <td>13.6</td>
      <td>6.7</td>
      <td>20.6</td>
      <td>54.0</td>
      <td>187.2</td>
      <td>4227.0</td>
      <td>4.8</td>
    </tr>
    <tr>
      <th>30</th>
      <td>31/12/2015</td>
      <td>2738</td>
      <td>2130</td>
      <td>1200</td>
      <td>10776</td>
      <td>59.10</td>
      <td>19.30</td>
      <td>3.94</td>
      <td>56.34</td>
      <td>13.8</td>
      <td>6.3</td>
      <td>21.0</td>
      <td>51.9</td>
      <td>112.9</td>
      <td>4342.4</td>
      <td>6.5</td>
    </tr>
    <tr>
      <th>31</th>
      <td>31/12/2016</td>
      <td>3289</td>
      <td>2311</td>
      <td>1200</td>
      <td>10990</td>
      <td>60.00</td>
      <td>19.80</td>
      <td>3.34</td>
      <td>51.93</td>
      <td>13.5</td>
      <td>6.4</td>
      <td>20.8</td>
      <td>61.4</td>
      <td>218.0</td>
      <td>4168.5</td>
      <td>7.2</td>
    </tr>
    <tr>
      <th>32</th>
      <td>31/12/2017</td>
      <td>3484</td>
      <td>2032</td>
      <td>1455</td>
      <td>11200</td>
      <td>59.30</td>
      <td>19.50</td>
      <td>3.21</td>
      <td>71.60</td>
      <td>14.2</td>
      <td>6.8</td>
      <td>21.6</td>
      <td>57.5</td>
      <td>265.2</td>
      <td>4218.7</td>
      <td>6.4</td>
    </tr>
    <tr>
      <th>33</th>
      <td>31/12/2018</td>
      <td>2963</td>
      <td>1200</td>
      <td>820</td>
      <td>9193</td>
      <td>61.30</td>
      <td>19.80</td>
      <td>3.10</td>
      <td>68.33</td>
      <td>13.8</td>
      <td>6.0</td>
      <td>21.6</td>
      <td>55.8</td>
      <td>93.2</td>
      <td>4166.8</td>
      <td>4.1</td>
    </tr>
    <tr>
      <th>34</th>
      <td>31/12/2019</td>
      <td>3520</td>
      <td>2940</td>
      <td>1129</td>
      <td>13027</td>
      <td>56.90</td>
      <td>19.80</td>
      <td>3.70</td>
      <td>38.40</td>
      <td>13.6</td>
      <td>5.8</td>
      <td>21.4</td>
      <td>55.8</td>
      <td>170.7</td>
      <td>4229.9</td>
      <td>5.1</td>
    </tr>
    <tr>
      <th>35</th>
      <td>31/12/2020</td>
      <td>3320</td>
      <td>2021</td>
      <td>430</td>
      <td>12136</td>
      <td>56.10</td>
      <td>19.60</td>
      <td>3.66</td>
      <td>21.28</td>
      <td>14.3</td>
      <td>6.6</td>
      <td>22.0</td>
      <td>54.5</td>
      <td>92.0</td>
      <td>4279.9</td>
      <td>5.7</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Nos quedamos con las columnas que nos interesan</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_intermedia</span> <span class="o">=</span> <span class="n">data</span><span class="p">[[</span><span class="s1">&#39;fecha&#39;</span><span class="p">,</span><span class="s1">&#39;kilos_lana&#39;</span><span class="p">]]</span>
<span class="n">data_intermedia</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fecha</th>
      <th>kilos_lana</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>31/12/1985</td>
      <td>15600</td>
    </tr>
    <tr>
      <th>1</th>
      <td>31/12/1986</td>
      <td>18167</td>
    </tr>
    <tr>
      <th>2</th>
      <td>31/12/1987</td>
      <td>11200</td>
    </tr>
    <tr>
      <th>3</th>
      <td>31/12/1988</td>
      <td>13197</td>
    </tr>
    <tr>
      <th>4</th>
      <td>31/12/1989</td>
      <td>12300</td>
    </tr>
    <tr>
      <th>5</th>
      <td>31/12/1990</td>
      <td>13900</td>
    </tr>
    <tr>
      <th>6</th>
      <td>31/12/1991</td>
      <td>15800</td>
    </tr>
    <tr>
      <th>7</th>
      <td>31/12/1992</td>
      <td>11600</td>
    </tr>
    <tr>
      <th>8</th>
      <td>31/12/1993</td>
      <td>10306</td>
    </tr>
    <tr>
      <th>9</th>
      <td>31/12/1994</td>
      <td>9000</td>
    </tr>
    <tr>
      <th>10</th>
      <td>31/12/1995</td>
      <td>9931</td>
    </tr>
    <tr>
      <th>11</th>
      <td>31/12/1996</td>
      <td>9730</td>
    </tr>
    <tr>
      <th>12</th>
      <td>31/12/1997</td>
      <td>11763</td>
    </tr>
    <tr>
      <th>13</th>
      <td>31/12/1998</td>
      <td>12400</td>
    </tr>
    <tr>
      <th>14</th>
      <td>31/12/1999</td>
      <td>13700</td>
    </tr>
    <tr>
      <th>15</th>
      <td>31/12/2000</td>
      <td>17349</td>
    </tr>
    <tr>
      <th>16</th>
      <td>31/12/2001</td>
      <td>13522</td>
    </tr>
    <tr>
      <th>17</th>
      <td>31/12/2002</td>
      <td>17358</td>
    </tr>
    <tr>
      <th>18</th>
      <td>31/12/2003</td>
      <td>11554</td>
    </tr>
    <tr>
      <th>19</th>
      <td>31/12/2004</td>
      <td>11267</td>
    </tr>
    <tr>
      <th>20</th>
      <td>31/12/2005</td>
      <td>15753</td>
    </tr>
    <tr>
      <th>21</th>
      <td>31/12/2006</td>
      <td>13785</td>
    </tr>
    <tr>
      <th>22</th>
      <td>31/12/2007</td>
      <td>10336</td>
    </tr>
    <tr>
      <th>23</th>
      <td>31/12/2008</td>
      <td>5245</td>
    </tr>
    <tr>
      <th>24</th>
      <td>31/12/2009</td>
      <td>8739</td>
    </tr>
    <tr>
      <th>25</th>
      <td>31/12/2010</td>
      <td>9164</td>
    </tr>
    <tr>
      <th>26</th>
      <td>31/12/2011</td>
      <td>6516</td>
    </tr>
    <tr>
      <th>27</th>
      <td>31/12/2012</td>
      <td>8376</td>
    </tr>
    <tr>
      <th>28</th>
      <td>31/12/2013</td>
      <td>9892</td>
    </tr>
    <tr>
      <th>29</th>
      <td>31/12/2014</td>
      <td>10510</td>
    </tr>
    <tr>
      <th>30</th>
      <td>31/12/2015</td>
      <td>10776</td>
    </tr>
    <tr>
      <th>31</th>
      <td>31/12/2016</td>
      <td>10990</td>
    </tr>
    <tr>
      <th>32</th>
      <td>31/12/2017</td>
      <td>11200</td>
    </tr>
    <tr>
      <th>33</th>
      <td>31/12/2018</td>
      <td>9193</td>
    </tr>
    <tr>
      <th>34</th>
      <td>31/12/2019</td>
      <td>13027</td>
    </tr>
    <tr>
      <th>35</th>
      <td>31/12/2020</td>
      <td>12136</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Convertimos la columna fecha en datetime</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_intermedia</span><span class="p">[</span><span class="s1">&#39;fecha&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">data_intermedia</span><span class="p">[</span><span class="s1">&#39;fecha&#39;</span><span class="p">])</span>
<span class="n">data_temp</span> <span class="o">=</span> <span class="n">data_intermedia</span>
<span class="n">data_intermedia</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipykernel_23158/2026727361.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  data_intermedia[&#39;fecha&#39;] = pd.to_datetime(data_intermedia[&#39;fecha&#39;])
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fecha</th>
      <th>kilos_lana</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1985-12-31</td>
      <td>15600</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1986-12-31</td>
      <td>18167</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1987-12-31</td>
      <td>11200</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1988-12-31</td>
      <td>13197</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1989-12-31</td>
      <td>12300</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1990-12-31</td>
      <td>13900</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1991-12-31</td>
      <td>15800</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1992-12-31</td>
      <td>11600</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1993-12-31</td>
      <td>10306</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1994-12-31</td>
      <td>9000</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1995-12-31</td>
      <td>9931</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1996-12-31</td>
      <td>9730</td>
    </tr>
    <tr>
      <th>12</th>
      <td>1997-12-31</td>
      <td>11763</td>
    </tr>
    <tr>
      <th>13</th>
      <td>1998-12-31</td>
      <td>12400</td>
    </tr>
    <tr>
      <th>14</th>
      <td>1999-12-31</td>
      <td>13700</td>
    </tr>
    <tr>
      <th>15</th>
      <td>2000-12-31</td>
      <td>17349</td>
    </tr>
    <tr>
      <th>16</th>
      <td>2001-12-31</td>
      <td>13522</td>
    </tr>
    <tr>
      <th>17</th>
      <td>2002-12-31</td>
      <td>17358</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2003-12-31</td>
      <td>11554</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2004-12-31</td>
      <td>11267</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2005-12-31</td>
      <td>15753</td>
    </tr>
    <tr>
      <th>21</th>
      <td>2006-12-31</td>
      <td>13785</td>
    </tr>
    <tr>
      <th>22</th>
      <td>2007-12-31</td>
      <td>10336</td>
    </tr>
    <tr>
      <th>23</th>
      <td>2008-12-31</td>
      <td>5245</td>
    </tr>
    <tr>
      <th>24</th>
      <td>2009-12-31</td>
      <td>8739</td>
    </tr>
    <tr>
      <th>25</th>
      <td>2010-12-31</td>
      <td>9164</td>
    </tr>
    <tr>
      <th>26</th>
      <td>2011-12-31</td>
      <td>6516</td>
    </tr>
    <tr>
      <th>27</th>
      <td>2012-12-31</td>
      <td>8376</td>
    </tr>
    <tr>
      <th>28</th>
      <td>2013-12-31</td>
      <td>9892</td>
    </tr>
    <tr>
      <th>29</th>
      <td>2014-12-31</td>
      <td>10510</td>
    </tr>
    <tr>
      <th>30</th>
      <td>2015-12-31</td>
      <td>10776</td>
    </tr>
    <tr>
      <th>31</th>
      <td>2016-12-31</td>
      <td>10990</td>
    </tr>
    <tr>
      <th>32</th>
      <td>2017-12-31</td>
      <td>11200</td>
    </tr>
    <tr>
      <th>33</th>
      <td>2018-12-31</td>
      <td>9193</td>
    </tr>
    <tr>
      <th>34</th>
      <td>2019-12-31</td>
      <td>13027</td>
    </tr>
    <tr>
      <th>35</th>
      <td>2020-12-31</td>
      <td>12136</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Convertimos la columna fcha en el indice del df</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_temp</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;fecha&#39;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">data_temp</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">data_temp</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>kilos_lana</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1985-12-31</th>
      <td>15600</td>
    </tr>
    <tr>
      <th>1986-12-31</th>
      <td>18167</td>
    </tr>
    <tr>
      <th>1987-12-31</th>
      <td>11200</td>
    </tr>
    <tr>
      <th>1988-12-31</th>
      <td>13197</td>
    </tr>
    <tr>
      <th>1989-12-31</th>
      <td>12300</td>
    </tr>
    <tr>
      <th>1990-12-31</th>
      <td>13900</td>
    </tr>
    <tr>
      <th>1991-12-31</th>
      <td>15800</td>
    </tr>
    <tr>
      <th>1992-12-31</th>
      <td>11600</td>
    </tr>
    <tr>
      <th>1993-12-31</th>
      <td>10306</td>
    </tr>
    <tr>
      <th>1994-12-31</th>
      <td>9000</td>
    </tr>
    <tr>
      <th>1995-12-31</th>
      <td>9931</td>
    </tr>
    <tr>
      <th>1996-12-31</th>
      <td>9730</td>
    </tr>
    <tr>
      <th>1997-12-31</th>
      <td>11763</td>
    </tr>
    <tr>
      <th>1998-12-31</th>
      <td>12400</td>
    </tr>
    <tr>
      <th>1999-12-31</th>
      <td>13700</td>
    </tr>
    <tr>
      <th>2000-12-31</th>
      <td>17349</td>
    </tr>
    <tr>
      <th>2001-12-31</th>
      <td>13522</td>
    </tr>
    <tr>
      <th>2002-12-31</th>
      <td>17358</td>
    </tr>
    <tr>
      <th>2003-12-31</th>
      <td>11554</td>
    </tr>
    <tr>
      <th>2004-12-31</th>
      <td>11267</td>
    </tr>
    <tr>
      <th>2005-12-31</th>
      <td>15753</td>
    </tr>
    <tr>
      <th>2006-12-31</th>
      <td>13785</td>
    </tr>
    <tr>
      <th>2007-12-31</th>
      <td>10336</td>
    </tr>
    <tr>
      <th>2008-12-31</th>
      <td>5245</td>
    </tr>
    <tr>
      <th>2009-12-31</th>
      <td>8739</td>
    </tr>
    <tr>
      <th>2010-12-31</th>
      <td>9164</td>
    </tr>
    <tr>
      <th>2011-12-31</th>
      <td>6516</td>
    </tr>
    <tr>
      <th>2012-12-31</th>
      <td>8376</td>
    </tr>
    <tr>
      <th>2013-12-31</th>
      <td>9892</td>
    </tr>
    <tr>
      <th>2014-12-31</th>
      <td>10510</td>
    </tr>
    <tr>
      <th>2015-12-31</th>
      <td>10776</td>
    </tr>
    <tr>
      <th>2016-12-31</th>
      <td>10990</td>
    </tr>
    <tr>
      <th>2017-12-31</th>
      <td>11200</td>
    </tr>
    <tr>
      <th>2018-12-31</th>
      <td>9193</td>
    </tr>
    <tr>
      <th>2019-12-31</th>
      <td>13027</td>
    </tr>
    <tr>
      <th>2020-12-31</th>
      <td>12136</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Visualizamos los datos</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data_temp</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Pronostico 1985- 2019 Lana_13_0.png" src="../../_images/Pronostico 1985- 2019 Lana_13_0.png" />
</div>
</div>
<p>Cuando buscamos ajustar datos de series de tiempo con un modelo ARIMA estacional, nuestro primer objetivo es encontrar los valores ARIMA(p,d,q)(P,D,Q)s que optimizan una métrica de interés.</p>
<p>Asi que buscamos y seleccionamos los parámetros para el modelo de serie temporal ARIMA</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the p, d and q parameters to take any value between 0 and 2</span>
<span class="c1"># Defina los parámetros p, d y q para tomar cualquier valor entre 0 y 2</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">d</span> <span class="o">=</span> <span class="n">q</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># Generate all different combinations of p, q and q triplets</span>
<span class="c1"># Genere todas las diferentes combinaciones de tripletes p, d y q</span>
<span class="n">pdq</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">q</span><span class="p">))</span>

<span class="c1"># Generate all different combinations of seasonal p, q and q triplets</span>
<span class="c1"># Genere todas las combinaciones diferentes de tripletes p, d y q estacionales</span>
<span class="n">seasonal_pdq</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="mi">12</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">q</span><span class="p">))]</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Examples of parameter combinations for Seasonal ARIMA...&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Ejemplos de combinaciones de parámetros para ARIMA estacional...&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;SARIMAX: </span><span class="si">{}</span><span class="s1"> x </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pdq</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">seasonal_pdq</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;SARIMAX: </span><span class="si">{}</span><span class="s1"> x </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pdq</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">seasonal_pdq</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;SARIMAX: </span><span class="si">{}</span><span class="s1"> x </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pdq</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">seasonal_pdq</span><span class="p">[</span><span class="mi">3</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;SARIMAX: </span><span class="si">{}</span><span class="s1"> x </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pdq</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">seasonal_pdq</span><span class="p">[</span><span class="mi">4</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Examples of parameter combinations for Seasonal ARIMA...
Ejemplos de combinaciones de parámetros para ARIMA estacional...
SARIMAX: (0, 0, 1) x (0, 0, 1, 12)
SARIMAX: (0, 0, 1) x (0, 1, 0, 12)
SARIMAX: (0, 1, 0) x (0, 1, 1, 12)
SARIMAX: (0, 1, 0) x (1, 0, 0, 12)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span> <span class="c1"># specify to ignore warning messages</span>
<span class="n">results_aic</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">pdq</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">param_seasonal</span> <span class="ow">in</span> <span class="n">seasonal_pdq</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mod</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">statespace</span><span class="o">.</span><span class="n">SARIMAX</span><span class="p">(</span><span class="n">data_temp</span><span class="p">,</span>
                                            <span class="n">order</span><span class="o">=</span><span class="n">param</span><span class="p">,</span>
                                            <span class="n">seasonal_order</span><span class="o">=</span><span class="n">param_seasonal</span><span class="p">,</span>
                                            <span class="n">enforce_stationarity</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                            <span class="n">enforce_invertibility</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="n">results</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
            <span class="n">results_aic</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">aic</span><span class="p">)</span>

            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;ARIMA</span><span class="si">{}</span><span class="s1">x</span><span class="si">{}</span><span class="s1">12 - AIC:</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="n">param_seasonal</span><span class="p">,</span> <span class="n">results</span><span class="o">.</span><span class="n">aic</span><span class="p">))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">continue</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            1     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  1.05154D+01    |proj g|=  1.47367D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    1      0      1      0     0     0   1.474D-06   1.052D+01
  F =   10.515384902953631     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 0, 0)x(0, 0, 0, 12)12 - AIC:759.1077130126614
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  1.11374D+01    |proj g|=  1.05119D+01

At iterate    5    f=  7.31987D+00    |proj g|=  1.51734D-03

At iterate   10    f=  7.31890D+00    |proj g|=  1.29919D-01

At iterate   15    f=  7.21358D+00    |proj g|=  1.22932D+00

At iterate   20    f=  6.54273D+00    |proj g|=  2.39372D-01

At iterate   25    f=  6.53078D+00    |proj g|=  2.88438D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2     28     31      1     0     0   2.574D-07   6.531D+00
  F =   6.5307711646198348     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ARIMA(0, 0, 0)x(0, 0, 1, 12)12 - AIC:474.2155238526281
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            1     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  6.31593D+00    |proj g|=  9.01171D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    1      3      7      1     0     0   6.912D-06   6.284D+00
  F =   6.2841763598742642     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 0, 0)x(0, 1, 0, 12)12 - AIC:454.46069791094703
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  3.06502D+00    |proj g|=  2.14218D-01

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      4      8      1     0     0   3.150D-05   2.920D+00
  F =   2.9201741706679893     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(0, 0, 0)x(0, 1, 1, 12)12 - AIC:214.25254028809522
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  6.48342D+00    |proj g|=  3.45679D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      1     11      1     0     0   3.452D-05   6.483D+00
  F =   6.4834213918349191     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(0, 0, 0)x(1, 0, 0, 12)12 - AIC:470.80634021211415
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  1.11374D+01    |proj g|=  1.12105D+01

At iterate    5    f=  6.29422D+00    |proj g|=  1.26834D-01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate   10    f=  6.29336D+00    |proj g|=  1.81540D-03

At iterate   15    f=  6.29320D+00    |proj g|=  3.83095D-02

At iterate   20    f=  6.27601D+00    |proj g|=  3.66031D-01

At iterate   25    f=  6.20212D+00    |proj g|=  5.19843D-02

At iterate   30    f=  6.20121D+00    |proj g|=  1.86930D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     30     33      1     0     0   1.869D-05   6.201D+00
  F =   6.2012085593344848     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(0, 0, 0)x(1, 0, 1, 12)12 - AIC:452.4870162720829
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  3.25914D+00    |proj g|=  1.34235D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      0      1      0     0     0   1.342D-06   3.259D+00
  F =   3.2591439393555230     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 0, 0)x(1, 1, 0, 12)12 - AIC:238.65836363359767
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  3.06502D+00    |proj g|=  2.14224D-01

At iterate    5    f=  2.90825D+00    |proj g|=  1.30252D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3      8     13      1     0     0   3.632D-05   2.908D+00
  F =   2.9082455844157704     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(0, 0, 0)x(1, 1, 1, 12)12 - AIC:215.39368207793547
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  9.90429D+00    |proj g|=  1.67437D-01

At iterate    5    f=  9.88905D+00    |proj g|=  4.95277D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      6     10      1     0     0   4.953D-05   9.889D+00
  F =   9.8890480461126131     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(0, 0, 1)x(0, 0, 0, 12)12 - AIC:716.0114593201081
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  6.40712D+00    |proj g|=  2.40568D-01

At iterate    5    f=  6.32888D+00    |proj g|=  1.36171D-03

At iterate   10    f=  6.32888D+00    |proj g|=  5.31311D-04

At iterate   15    f=  6.32878D+00    |proj g|=  8.58529D-03

At iterate   20    f=  6.31610D+00    |proj g|=  1.09311D-01

At iterate   25    f=  6.05358D+00    |proj g|=  3.45382D-01

At iterate   30    f=  6.03746D+00    |proj g|=  8.46207D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     33     41      1     0     0   7.099D-06   6.037D+00
  F =   6.0374447251348711     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 0, 1)x(0, 0, 1, 12)12 - AIC:440.6960202097107
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.89512D+00    |proj g|=  1.62704D-01

At iterate    5    f=  5.88785D+00    |proj g|=  1.48310D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      6      8      1     0     0   5.980D-06   5.888D+00
  F =   5.8878533947797393     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ARIMA(0, 0, 1)x(0, 1, 0, 12)12 - AIC:427.92544442414123
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.71794D+00    |proj g|=  2.48282D-01

At iterate    5    f=  2.61290D+00    |proj g|=  2.50029D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3      7     10      1     0     0   3.685D-05   2.613D+00
  F =   2.6129027326102818     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(0, 0, 1)x(0, 1, 1, 12)12 - AIC:194.1289967479403
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  6.87861D+00    |proj g|=  1.94368D-02

At iterate    5    f=  6.87806D+00    |proj g|=  5.79306D-05

At iterate   10    f=  6.87803D+00    |proj g|=  2.39304D-03

At iterate   15    f=  6.87445D+00    |proj g|=  2.26886D-02

At iterate   20    f=  6.62192D+00    |proj g|=  8.89335D-01

At iterate   25    f=  6.37260D+00    |proj g|=  2.00366D-02
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     29     36      1     0     0   2.366D-06   6.372D+00
  F =   6.3722685012188167     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 0, 1)x(1, 0, 0, 12)12 - AIC:464.8033320877548
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  6.40712D+00    |proj g|=  2.42768D-01

At iterate    5    f=  6.30706D+00    |proj g|=  2.01273D-02

At iterate   10    f=  6.30526D+00    |proj g|=  4.81798D-05

At iterate   15    f=  6.30525D+00    |proj g|=  4.48144D-04

At iterate   20    f=  6.30475D+00    |proj g|=  8.38993D-03

At iterate   25    f=  6.16761D+00    |proj g|=  1.90764D-01

At iterate   30    f=  5.89761D+00    |proj g|=  3.79099D-01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate   35    f=  5.84811D+00    |proj g|=  6.39274D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     39     51      1     0     0   1.792D-06   5.848D+00
  F =   5.8480752321717269     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 0, 1)x(1, 0, 1, 12)12 - AIC:429.06141671636436
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  3.15081D+00    |proj g|=  5.72698D-02

At iterate    5    f=  3.14502D+00    |proj g|=  4.05312D-05

At iterate   10    f=  3.14502D+00    |proj g|=  1.53630D-03

At iterate   15    f=  3.14458D+00    |proj g|=  2.19856D-02

At iterate   20    f=  3.12054D+00    |proj g|=  4.17113D-02

At iterate   25    f=  3.11710D+00    |proj g|=  4.65673D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     27     33      1     0     0   1.540D-06   3.117D+00
  F =   3.1170987616514640     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 0, 1)x(1, 1, 0, 12)12 - AIC:230.4311108389054
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.71794D+00    |proj g|=  2.50279D-01
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate    5    f=  2.57635D+00    |proj g|=  6.34941D-03

At iterate   10    f=  2.57615D+00    |proj g|=  5.56883D-05

At iterate   15    f=  2.57615D+00    |proj g|=  7.08030D-04

At iterate   20    f=  2.57597D+00    |proj g|=  7.69109D-03

At iterate   25    f=  2.56953D+00    |proj g|=  5.81546D-02

At iterate   30    f=  2.49904D+00    |proj g|=  6.80877D-02

At iterate   35    f=  2.48431D+00    |proj g|=  6.10991D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     39     51      1     0     0   1.771D-05   2.484D+00
  F =   2.4842914398645859     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(0, 0, 1)x(1, 1, 1, 12)12 - AIC:186.86898367025017
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            1     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  8.84482D+00    |proj g|=  1.14595D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    1      2      4      1     0     0   3.965D-07   8.845D+00
  F =   8.8445565008016658     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 1, 0)x(0, 0, 0, 12)12 - AIC:638.80806805772
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.74066D+00    |proj g|=  1.98984D-02

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      3      7      1     0     0   5.159D-05   5.740D+00
  F =   5.7404454010234565     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(0, 1, 0)x(0, 0, 1, 12)12 - AIC:417.3120688736889
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            1     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  6.03355D+00    |proj g|=  1.10518D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    1      4      8      1     0     0   1.763D-06   5.991D+00
  F =   5.9913012820037768     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 1, 0)x(0, 1, 0, 12)12 - AIC:433.3736923042719
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.71743D+00    |proj g|=  2.85686D-01

At iterate    5    f=  2.60364D+00    |proj g|=  1.06945D-04

At iterate   10    f=  2.60363D+00    |proj g|=  2.41828D-03

At iterate   15    f=  2.60233D+00    |proj g|=  2.81765D-02

At iterate   20    f=  2.52653D+00    |proj g|=  2.33208D-01

At iterate   25    f=  2.48977D+00    |proj g|=  7.09464D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2     25     26      1     0     0   7.095D-06   2.490D+00
  F =   2.4897737513167062     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ARIMA(0, 1, 0)x(0, 1, 1, 12)12 - AIC:183.26371009480286
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.98671D+00    |proj g|=  4.00382D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      0      1      0     0     0   4.004D-06   5.987D+00
  F =   5.9867055906611819     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 1, 0)x(1, 0, 0, 12)12 - AIC:435.0428025276051
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.74066D+00    |proj g|=  2.00391D-02

At iterate    5    f=  5.74022D+00    |proj g|=  1.09435D-01

At iterate   10    f=  5.70813D+00    |proj g|=  1.32114D-02

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     13     24      1     0     0   1.543D-05   5.708D+00
  F =   5.7079764536795423     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(0, 1, 0)x(1, 0, 1, 12)12 - AIC:416.97430466492705
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.77202D+00    |proj g|=  7.50626D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      0      1      0     0     0   7.506D-06   2.772D+00
  F =   2.7720231895347971     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 1, 0)x(1, 1, 0, 12)12 - AIC:203.58566964650538
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.71743D+00    |proj g|=  2.85686D-01

At iterate    5    f=  2.59446D+00    |proj g|=  3.15893D-03

At iterate   10    f=  2.59440D+00    |proj g|=  1.54304D-04
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate   15    f=  2.59439D+00    |proj g|=  2.57103D-03

At iterate   20    f=  2.59257D+00    |proj g|=  2.96098D-02

At iterate   25    f=  2.50059D+00    |proj g|=  2.76405D-01

At iterate   30    f=  2.44498D+00    |proj g|=  8.56495D-03

At iterate   35    f=  2.44468D+00    |proj g|=  6.79456D-09

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     35     41      1     0     0   6.795D-09   2.445D+00
  F =   2.4446826062591023     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 1, 0)x(1, 1, 1, 12)12 - AIC:182.01714765065537
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  8.45032D+00    |proj g|=  3.25272D-02

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      3      5      1     0     0   2.156D-05   8.450D+00
  F =   8.4497022926212679     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(0, 1, 1)x(0, 0, 0, 12)12 - AIC:612.3785650687313
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.44818D+00    |proj g|=  8.55080D-02

At iterate    5    f=  5.43702D+00    |proj g|=  3.25209D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3      5      7      1     0     0   3.252D-05   5.437D+00
  F =   5.4370226054472610     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ARIMA(0, 1, 1)x(0, 0, 1, 12)12 - AIC:397.4656275922028
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.68020D+00    |proj g|=  6.61140D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      3      6      1     0     0   7.776D-06   5.680D+00
  F =   5.6800713109255518     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 1, 1)x(0, 1, 0, 12)12 - AIC:412.96513438663976
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.44724D+00    |proj g|=  2.31695D-01

At iterate    5    f=  2.34438D+00    |proj g|=  4.61560D-05

At iterate   10    f=  2.34437D+00    |proj g|=  8.50535D-04

At iterate   15    f=  2.34400D+00    |proj g|=  1.06318D-02

At iterate   20    f=  2.29801D+00    |proj g|=  1.64469D-01

At iterate   25    f=  2.24483D+00    |proj g|=  1.26782D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     27     32      1     0     0   3.431D-06   2.245D+00
  F =   2.2448253610249735     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 1, 1)x(0, 1, 1, 12)12 - AIC:167.62742599379808
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.94393D+00    |proj g|=  6.71572D-02

At iterate    5    f=  5.93943D+00    |proj g|=  2.47756D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3      5      8      1     0     0   2.478D-05   5.939D+00
  F =   5.9394293087319632     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(0, 1, 1)x(1, 0, 0, 12)12 - AIC:433.6389102287014
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.44818D+00    |proj g|=  8.55080D-02

At iterate    5    f=  5.43723D+00    |proj g|=  3.27717D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4      5      8      1     0     0   3.277D-05   5.437D+00
  F =   5.4372307621682801     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(0, 1, 1)x(1, 0, 1, 12)12 - AIC:399.4806148761162
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.86995D+00    |proj g|=  1.56316D-02

At iterate    5    f=  2.86916D+00    |proj g|=  5.44330D-05

At iterate   10    f=  2.86916D+00    |proj g|=  1.05151D-03

At iterate   15    f=  2.86844D+00    |proj g|=  1.43973D-02
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate   20    f=  2.80671D+00    |proj g|=  2.09155D-01

At iterate   25    f=  2.77134D+00    |proj g|=  7.15312D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     27     33      1     0     0   4.521D-06   2.771D+00
  F =   2.7713428213373894     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 1, 1)x(1, 1, 0, 12)12 - AIC:205.53668313629203
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.44724D+00    |proj g|=  2.31695D-01

At iterate    5    f=  2.33740D+00    |proj g|=  1.96027D-03

At iterate   10    f=  2.33737D+00    |proj g|=  8.52653D-05

At iterate   15    f=  2.33736D+00    |proj g|=  1.07403D-03

At iterate   20    f=  2.33649D+00    |proj g|=  9.89683D-03
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate   25    f=  2.28316D+00    |proj g|=  1.28628D-01

At iterate   30    f=  2.21262D+00    |proj g|=  4.11906D-02

At iterate   35    f=  2.20886D+00    |proj g|=  1.17152D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     39     42      1     0     0   2.211D-07   2.209D+00
  F =   2.2088584869672463     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(0, 1, 1)x(1, 1, 1, 12)12 - AIC:167.03781106164175
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  9.09032D+00    |proj g|=  9.28878D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      1     19      1     0     0   9.289D-05   9.090D+00
  F =   9.0903177454664714     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 0, 0)x(0, 0, 0, 12)12 - AIC:658.502877673586
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.98313D+00    |proj g|=  9.68945D-02

At iterate    5    f=  5.98256D+00    |proj g|=  3.36351D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3      6      8      1     0     0   2.145D-05   5.983D+00
  F =   5.9825626200230255     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 0, 0)x(0, 0, 1, 12)12 - AIC:436.74450864165783
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  6.17796D+00    |proj g|=  4.13927D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      0      1      0     0     0   4.139D-06   6.178D+00
  F =   6.1779637191331815     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.

 Warning:  more than 10 function and gradient
   evaluations in the last line search.  Termination
   may possibly be caused by a bad search direction.
 This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ARIMA(1, 0, 0)x(0, 1, 0, 12)12 - AIC:448.81338777758907
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.96395D+00    |proj g|=  2.60132D-01

At iterate    5    f=  2.85111D+00    |proj g|=  7.92620D-05

At iterate   10    f=  2.85111D+00    |proj g|=  5.22925D-04

At iterate   15    f=  2.85102D+00    |proj g|=  6.95563D-03

At iterate   20    f=  2.84080D+00    |proj g|=  4.36155D-02

At iterate   25    f=  2.75323D+00    |proj g|=  6.32420D-02

At iterate   30    f=  2.74911D+00    |proj g|=  7.74429D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     30     33      1     0     0   7.744D-06   2.749D+00
  F =   2.7491136257007418     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 0, 0)x(0, 1, 1, 12)12 - AIC:203.9361810504534
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  6.28170D+00    |proj g|=  6.89164D-01

At iterate    5    f=  5.98255D+00    |proj g|=  1.04985D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3      5      8      1     0     0   1.050D-04   5.983D+00
  F =   5.9825499574502192     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 0, 0)x(1, 0, 0, 12)12 - AIC:436.74359693641577
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.98313D+00    |proj g|=  9.68945D-02

At iterate    5    f=  5.98257D+00    |proj g|=  3.26894D-04

At iterate   10    f=  5.98234D+00    |proj g|=  3.80792D-01

At iterate   15    f=  5.96792D+00    |proj g|=  6.20806D-01

At iterate   20    f=  5.95073D+00    |proj g|=  3.57873D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     22     34      1     0     0   3.069D-05   5.951D+00
  F =   5.9507301184569874     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 0, 0)x(1, 0, 1, 12)12 - AIC:436.4525685289031
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.85817D+00    |proj g|=  1.08989D-01

At iterate    5    f=  2.84213D+00    |proj g|=  5.87558D-05

At iterate   10    f=  2.84212D+00    |proj g|=  1.74087D-03

At iterate   15    f=  2.84151D+00    |proj g|=  2.08798D-02

At iterate   20    f=  2.78990D+00    |proj g|=  3.16413D-01

At iterate   25    f=  2.75080D+00    |proj g|=  2.92944D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     26     31      1     0     0   6.793D-06   2.751D+00
  F =   2.7508048370814229     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 0, 0)x(1, 1, 0, 12)12 - AIC:204.05794826986244
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.96395D+00    |proj g|=  2.60132D-01

At iterate    5    f=  2.83440D+00    |proj g|=  4.93810D-03

At iterate   10    f=  2.83409D+00    |proj g|=  6.24826D-05

At iterate   15    f=  2.83409D+00    |proj g|=  6.06065D-04

At iterate   20    f=  2.83376D+00    |proj g|=  6.57865D-03
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate   25    f=  2.82059D+00    |proj g|=  7.68284D-02

At iterate   30    f=  2.72385D+00    |proj g|=  4.90697D-02

At iterate   35    f=  2.71858D+00    |proj g|=  2.16891D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     37     40      1     0     0   6.053D-06   2.719D+00
  F =   2.7185701783002103     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 0, 0)x(1, 1, 1, 12)12 - AIC:203.73705283761515
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  8.77323D+00    |proj g|=  9.46225D-01

At iterate    5    f=  8.76053D+00    |proj g|=  3.20304D-01

At iterate   10    f=  8.75889D+00    |proj g|=  3.73340D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     10     13      1     0     0   3.733D-05   8.759D+00
  F =   8.7588874585988119     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 0, 1)x(0, 0, 0, 12)12 - AIC:636.6398970191144
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.69739D+00    |proj g|=  2.10282D-01

At iterate    5    f=  5.68130D+00    |proj g|=  1.99715D-02

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4      8     12      1     0     0   1.258D-04   5.681D+00
  F =   5.6812939822379098     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ARIMA(1, 0, 1)x(0, 0, 1, 12)12 - AIC:417.0531667211295
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.88453D+00    |proj g|=  2.16559D-02

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3      3      7      1     0     0   9.455D-06   5.883D+00
  F =   5.8828255277873103     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 0, 1)x(0, 1, 0, 12)12 - AIC:429.56343800068635
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.70228D+00    |proj g|=  2.55687D-01

At iterate    5    f=  2.58689D+00    |proj g|=  5.91897D-02

At iterate   10    f=  2.57177D+00    |proj g|=  1.78866D-04

At iterate   15    f=  2.57177D+00    |proj g|=  4.07305D-04

At iterate   20    f=  2.57169D+00    |proj g|=  5.99290D-03

At iterate   25    f=  2.55516D+00    |proj g|=  1.51656D-01

At iterate   30    f=  2.47083D+00    |proj g|=  1.79944D-02

At iterate   35    f=  2.47058D+00    |proj g|=  1.44489D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     35     49      1     0     0   1.445D-06   2.471D+00
  F =   2.4705820583469942     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 0, 1)x(0, 1, 1, 12)12 - AIC:185.8819082009836
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  6.39024D+00    |proj g|=  9.76892D-01

At iterate    5    f=  5.94703D+00    |proj g|=  2.69338D-01

At iterate   10    f=  5.94027D+00    |proj g|=  1.30119D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     12     16      1     0     0   3.159D-05   5.940D+00
  F =   5.9402681133326665     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 0, 1)x(1, 0, 0, 12)12 - AIC:435.69930415995196
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            5     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.69739D+00    |proj g|=  2.10282D-01

At iterate    5    f=  5.68315D+00    |proj g|=  1.27117D-02
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate   10    f=  5.67343D+00    |proj g|=  8.05655D-02

At iterate   15    f=  5.67248D+00    |proj g|=  1.92529D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    5     15     22      1     0     0   1.925D-05   5.672D+00
  F =   5.6724768246576964     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 0, 1)x(1, 0, 1, 12)12 - AIC:418.4183313753541
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.85088D+00    |proj g|=  8.77377D-02

At iterate    5    f=  2.83101D+00    |proj g|=  1.87919D-02

At iterate   10    f=  2.82980D+00    |proj g|=  1.08412D-03

At iterate   15    f=  2.82980D+00    |proj g|=  3.18208D-04

At iterate   20    f=  2.82973D+00    |proj g|=  5.56551D-03
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate   25    f=  2.81650D+00    |proj g|=  9.98425D-02

At iterate   30    f=  2.74198D+00    |proj g|=  4.55800D-02

At iterate   35    f=  2.73692D+00    |proj g|=  2.51010D-02

At iterate   40    f=  2.73643D+00    |proj g|=  1.39058D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     40     59      1     0     0   1.391D-06   2.736D+00
  F =   2.7364277490864746     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 0, 1)x(1, 1, 0, 12)12 - AIC:205.02279793422616
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            5     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.70228D+00    |proj g|=  2.55687D-01

At iterate    5    f=  2.57161D+00    |proj g|=  7.16897D-03
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate   10    f=  2.57069D+00    |proj g|=  4.95329D-02

At iterate   15    f=  2.56747D+00    |proj g|=  7.65094D-04

At iterate   20    f=  2.56747D+00    |proj g|=  2.35604D-04

At iterate   25    f=  2.56744D+00    |proj g|=  3.69076D-03

At iterate   30    f=  2.56398D+00    |proj g|=  2.95036D-02

At iterate   35    f=  2.53261D+00    |proj g|=  7.27292D-02

At iterate   40    f=  2.46989D+00    |proj g|=  4.41660D-02

At iterate   45    f=  2.46495D+00    |proj g|=  9.19678D-03

At iterate   50    f=  2.46490D+00    |proj g|=  3.69274D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    5     50     63      1     0     0   3.693D-06   2.465D+00
  F =   2.4648976817189725     

STOP: TOTAL NO. of ITERATIONS REACHED LIMIT                 
ARIMA(1, 0, 1)x(1, 1, 1, 12)12 - AIC:187.47263308376603
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  8.78721D+00    |proj g|=  5.44613D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      0      1      0     0     0   5.446D-06   8.787D+00
  F =   8.7872141695137191     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ARIMA(1, 1, 0)x(0, 0, 0, 12)12 - AIC:636.6794202049878
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.70706D+00    |proj g|=  1.33848D-01

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3      4      6      1     0     0   8.118D-06   5.696D+00
  F =   5.6959503860953191     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 1, 0)x(0, 0, 1, 12)12 - AIC:416.108427798863
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            2     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.98941D+00    |proj g|=  2.97291D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    2      0      1      0     0     0   2.973D-06   5.989D+00
  F =   5.9894082063520058     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 1, 0)x(0, 1, 0, 12)12 - AIC:435.2373908573444
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.71732D+00    |proj g|=  2.63184D-01

At iterate    5    f=  2.61254D+00    |proj g|=  4.19837D-04

At iterate   10    f=  2.61254D+00    |proj g|=  4.16158D-04

At iterate   15    f=  2.61248D+00    |proj g|=  5.57076D-03

At iterate   20    f=  2.60535D+00    |proj g|=  6.53930D-02

At iterate   25    f=  2.51432D+00    |proj g|=  8.96222D-02

At iterate   30    f=  2.48962D+00    |proj g|=  1.22790D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     33     37      1     0     0   9.234D-06   2.490D+00
  F =   2.4896127047195038     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 1, 0)x(0, 1, 1, 12)12 - AIC:185.25211473980428
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.70476D+00    |proj g|=  1.29864D-01

At iterate    5    f=  5.69178D+00    |proj g|=  4.46834D-06

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3      5      7      1     0     0   4.468D-06   5.692D+00
  F =   5.6917819841092774     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 1, 0)x(1, 0, 0, 12)12 - AIC:415.80830285586796
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.70706D+00    |proj g|=  1.43599D-01

At iterate    5    f=  5.68786D+00    |proj g|=  9.90484D-02

At iterate   10    f=  5.67155D+00    |proj g|=  1.06715D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     12     16      1     0     0   1.980D-05   5.672D+00
  F =   5.6715451086118680     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 1, 0)x(1, 0, 1, 12)12 - AIC:416.3512478200545
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.61610D+00    |proj g|=  1.01696D-02
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate    5    f=  2.61521D+00    |proj g|=  1.25413D-04

At iterate   10    f=  2.61513D+00    |proj g|=  3.07015D-03

At iterate   15    f=  2.60905D+00    |proj g|=  6.43497D-02

At iterate   20    f=  2.51830D+00    |proj g|=  5.57312D-02

At iterate   25    f=  2.51700D+00    |proj g|=  4.94810D-05

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3     26     30      1     0     0   5.794D-06   2.517D+00
  F =   2.5170010923885680     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 1, 0)x(1, 1, 0, 12)12 - AIC:187.2240786519769
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.71732D+00    |proj g|=  2.63184D-01

At iterate    5    f=  2.60353D+00    |proj g|=  2.65796D-03

At iterate   10    f=  2.60347D+00    |proj g|=  5.44182D-05
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate   15    f=  2.60346D+00    |proj g|=  1.63914D-03

At iterate   20    f=  2.60238D+00    |proj g|=  2.01791D-02

At iterate   25    f=  2.51244D+00    |proj g|=  2.69418D-01

At iterate   30    f=  2.44250D+00    |proj g|=  8.81646D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     34     37      1     0     0   2.316D-06   2.442D+00
  F =   2.4423603047866682     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 1, 0)x(1, 1, 1, 12)12 - AIC:183.8499419446401
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  8.44602D+00    |proj g|=  1.28476D-02

At iterate    5    f=  8.44590D+00    |proj g|=  4.32126D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3      7      9      1     0     0   2.090D-05   8.446D+00
  F =   8.4458960874587756     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 1, 1)x(0, 0, 0, 12)12 - AIC:614.1045182970319
RUNNING THE L-BFGS-B CODE
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.44395D+00    |proj g|=  7.93599D-02

At iterate    5    f=  5.43722D+00    |proj g|=  4.05590D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4      9     13      1     0     0   3.512D-05   5.437D+00
  F =   5.4371942538527662     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 1, 1)x(0, 0, 1, 12)12 - AIC:399.47798627739917
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            3     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.66973D+00    |proj g|=  6.02300D-02

At iterate    5    f=  5.65775D+00    |proj g|=  1.12427D-03
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    3      7     13      1     0     0   4.432D-05   5.658D+00
  F =   5.6577495655292580     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 1, 1)x(0, 1, 0, 12)12 - AIC:413.3579687181066
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.44403D+00    |proj g|=  2.23296D-01

At iterate    5    f=  2.34382D+00    |proj g|=  4.57470D-03

At iterate   10    f=  2.34295D+00    |proj g|=  4.64237D-05

At iterate   15    f=  2.34295D+00    |proj g|=  4.48729D-04

At iterate   20    f=  2.34239D+00    |proj g|=  6.05119D-03

At iterate   25    f=  2.25748D+00    |proj g|=  7.18591D-02

At iterate   30    f=  2.24396D+00    |proj g|=  1.91484D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     34     39      1     0     0   1.157D-06   2.244D+00
  F =   2.2439487041577859     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
ARIMA(1, 1, 1)x(0, 1, 1, 12)12 - AIC:169.56430669936057
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.69340D+00    |proj g|=  6.80356D-02

At iterate    5    f=  5.68694D+00    |proj g|=  3.82364D-02

At iterate   10    f=  5.68503D+00    |proj g|=  1.46101D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     12     15      1     0     0   2.932D-05   5.685D+00
  F =   5.6850289191117902     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 1, 1)x(1, 0, 0, 12)12 - AIC:417.3220821760489
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            5     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  5.44395D+00    |proj g|=  7.93599D-02
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate    5    f=  5.43679D+00    |proj g|=  4.38575D-02

At iterate   10    f=  5.43253D+00    |proj g|=  5.94800D-03

At iterate   15    f=  5.42130D+00    |proj g|=  8.34025D-03

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    5     19     30      1     0     0   1.652D-05   5.421D+00
  F =   5.4211946943154112     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 1, 1)x(1, 0, 1, 12)12 - AIC:400.3260179907096
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.60602D+00    |proj g|=  1.83348D-02

At iterate    5    f=  2.60040D+00    |proj g|=  2.71790D-02
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>At iterate   10    f=  2.59917D+00    |proj g|=  5.34185D-05

At iterate   15    f=  2.59917D+00    |proj g|=  1.48592D-03

At iterate   20    f=  2.59900D+00    |proj g|=  1.89449D-02

At iterate   25    f=  2.57644D+00    |proj g|=  1.38015D-01

At iterate   30    f=  2.49811D+00    |proj g|=  6.77325D-02

At iterate   35    f=  2.48359D+00    |proj g|=  1.88736D-03
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> Warning:  more than 10 function and gradient
   evaluations in the last line search.  Termination
   may possibly be caused by a bad search direction.
 This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     39     64      1     0     0   1.234D-05   2.484D+00
  F =   2.4835859167011636     

CONVERGENCE: REL_REDUCTION_OF_F_&lt;=_FACTR*EPSMCH             
ARIMA(1, 1, 1)x(1, 1, 0, 12)12 - AIC:186.81818600248377
RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            5     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  2.44403D+00    |proj g|=  2.23296D-01

At iterate    5    f=  2.33631D+00    |proj g|=  6.45306D-04

At iterate   10    f=  2.33617D+00    |proj g|=  2.74903D-03

At iterate   15    f=  2.33590D+00    |proj g|=  3.16557D-04

At iterate   20    f=  2.33589D+00    |proj g|=  4.85398D-04

At iterate   25    f=  2.33438D+00    |proj g|=  9.73298D-03

At iterate   30    f=  2.27105D+00    |proj g|=  1.07351D-01

At iterate   35    f=  2.22985D+00    |proj g|=  2.86425D-02

At iterate   40    f=  2.22306D+00    |proj g|=  6.50184D-02

At iterate   45    f=  2.20956D+00    |proj g|=  2.18141D-02

At iterate   50    f=  2.20726D+00    |proj g|=  9.12777D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    5     50     72      1     0     0   9.128D-04   2.207D+00
  F =   2.2072574213735234     

STOP: TOTAL NO. of ITERATIONS REACHED LIMIT                 
ARIMA(1, 1, 1)x(1, 1, 1, 12)12 - AIC:168.92253433889368
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">min</span><span class="p">(</span><span class="n">results_aic</span><span class="p">)</span>
<span class="c1"># ARIMA(0, 1, 1)x(1, 1, 1, 12)12 - AIC:167.03781106166736</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>167.03781106164175
</pre></div>
</div>
</div>
</div>
<p>Creamos el modelo y lo entrenamos</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mod</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">tsa</span><span class="o">.</span><span class="n">statespace</span><span class="o">.</span><span class="n">SARIMAX</span><span class="p">(</span><span class="n">data_temp</span><span class="p">,</span>
                                <span class="n">order</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
                                <span class="n">seasonal_order</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
                                <span class="n">enforce_invertibility</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> This problem is unconstrained.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RUNNING THE L-BFGS-B CODE

           * * *

Machine precision = 2.220D-16
 N =            4     M =           10

At X0         0 variables are exactly at the bounds

At iterate    0    f=  6.25228D+00    |proj g|=  4.37869D-01

At iterate    5    f=  6.09538D+00    |proj g|=  2.58807D-03

At iterate   10    f=  6.09534D+00    |proj g|=  2.14580D-04

At iterate   15    f=  6.09530D+00    |proj g|=  4.09186D-03

At iterate   20    f=  6.09040D+00    |proj g|=  4.86950D-02

At iterate   25    f=  6.00491D+00    |proj g|=  1.78045D-02

At iterate   30    f=  6.00328D+00    |proj g|=  1.90002D-04

           * * *

Tit   = total number of iterations
Tnf   = total number of function evaluations
Tnint = total number of segments explored during Cauchy searches
Skip  = number of BFGS updates skipped
Nact  = number of active bounds at final generalized Cauchy point
Projg = norm of the final projected gradient
F     = final function value

           * * *

   N    Tit     Tnf  Tnint  Skip  Nact     Projg        F
    4     32     35      1     0     0   8.328D-07   6.003D+00
  F =   6.0032819197830518     

CONVERGENCE: NORM_OF_PROJECTED_GRADIENT_&lt;=_PGTOL            
</pre></div>
</div>
</div>
</div>
<p>Miramos comportamiento del modelo</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span><span class="o">.</span><span class="n">tables</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>==============================================================================
                 coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------
ma.L1          0.0746      0.215      0.347      0.729      -0.347       0.497
ar.S.L12      -0.2689      0.227     -1.186      0.236      -0.714       0.176
ma.S.L12      -1.0000      0.383     -2.614      0.009      -1.750      -0.250
sigma2       5.52e+06   6.93e-08   7.97e+13      0.000    5.52e+06    5.52e+06
==============================================================================
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="o">.</span><span class="n">plot_diagnostics</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Pronostico 1985- 2019 Lana_22_0.png" src="../../_images/Pronostico 1985- 2019 Lana_22_0.png" />
</div>
</div>
<p>En este caso, el diagnóstico de nuestro modelo sugiere lo siguiente:</p>
<ul class="simple">
<li><p>En el gráfico superior derecho, vemos que la línea roja KDE sigue masomenos de cerca a la línea N(0,1)(donde N(0,1) es la notación estándar para una distribución normal con media 0 y desviación estándar de 1). Ésta es una  indicación de que los residuos se distribuyen bastante normalmente.</p></li>
<li><p>El gráfico qq en la parte inferior izquierda muestra que la distribución ordenada de los residuos (puntos azules) sigue masomenos la tendencia lineal de las muestras tomadas de una distribución normal estándar con N(0,1). Nuevamente, esta es una fuerte indicación de que los residuos se distribuyen normalmente.</p></li>
<li><p>Los residuos a lo largo del tiempo (gráfico superior izquierdo) y eñ gráfico de autocorrelación (es decir, correlograma) en la parte inferior derecha, no son buenos.</p></li>
</ul>
<p>Esas observaciones nos llevan a concluir que nuestro modelo produce un ajuste poco satisfactorio.</p>
<p>Hacemos predicciones</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pred</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get_prediction</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">&#39;2019-12-31&#39;</span><span class="p">),</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">pred_ci</span> <span class="o">=</span> <span class="n">pred</span><span class="o">.</span><span class="n">conf_int</span><span class="p">()</span>
<span class="n">pred_ci</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>lower kilos_lana</th>
      <th>upper kilos_lana</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-12-31</th>
      <td>3628.063618</td>
      <td>14575.561076</td>
    </tr>
    <tr>
      <th>2020-12-31</th>
      <td>6971.148862</td>
      <td>17916.569270</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">algo</span> <span class="o">=</span> <span class="n">pred</span><span class="o">.</span><span class="n">summary_frame</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
<span class="n">algo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>kilos_lana</th>
      <th>mean</th>
      <th>mean_se</th>
      <th>mean_ci_lower</th>
      <th>mean_ci_upper</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-12-31</th>
      <td>9101.812347</td>
      <td>2792.780261</td>
      <td>3628.063618</td>
      <td>14575.561076</td>
    </tr>
    <tr>
      <th>2020-12-31</th>
      <td>12443.859066</td>
      <td>2792.250392</td>
      <td>6971.148862</td>
      <td>17916.569270</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">data_temp</span><span class="p">[</span><span class="s1">&#39;1985&#39;</span><span class="p">:]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;observed&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">pred</span><span class="o">.</span><span class="n">predicted_mean</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;One-step ahead Forecast&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.7</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">pred_ci</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                <span class="n">pred_ci</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span>
                <span class="n">pred_ci</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.2</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Fecha&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Kg Lana&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Pronostico 1985- 2019 Lana_27_0.png" src="../../_images/Pronostico 1985- 2019 Lana_27_0.png" />
</div>
</div>
<p>PREDICE HORRIBLEMENTE</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y_forecasted</span> <span class="o">=</span> <span class="n">pred</span><span class="o">.</span><span class="n">predicted_mean</span>
<span class="n">y_truth</span> <span class="o">=</span> <span class="n">data_temp</span><span class="p">[</span><span class="s1">&#39;2019-12-31&#39;</span><span class="p">:]</span>
<span class="c1"># Compute the mean square error</span>
<span class="c1"># Calcule el error cuadrático medio</span>
<span class="n">mse</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_truth</span><span class="p">,</span> <span class="n">y_forecasted</span><span class="p">)</span>
<span class="c1">#mse</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;El error cuadrático medio de nuestros pronósticos es </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">mse</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>El error cuadrático medio de nuestros pronósticos es 7750937.66
</pre></div>
</div>
</div>
</div>
<p>Hago otra prediccion pero dos años adelante</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pred_1</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get_prediction</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">&#39;2016-12-31&#39;</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">&#39;2022-12-31&#39;</span><span class="p">)</span> <span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">pred_ci_1</span> <span class="o">=</span> <span class="n">pred_1</span><span class="o">.</span><span class="n">conf_int</span><span class="p">()</span>
<span class="n">pred_ci_1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>lower kilos_lana</th>
      <th>upper kilos_lana</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2016-12-31</th>
      <td>3149.825857</td>
      <td>14097.323315</td>
    </tr>
    <tr>
      <th>2017-12-31</th>
      <td>5688.028228</td>
      <td>16635.525686</td>
    </tr>
    <tr>
      <th>2018-12-31</th>
      <td>4781.887095</td>
      <td>15729.384554</td>
    </tr>
    <tr>
      <th>2019-12-31</th>
      <td>3628.063618</td>
      <td>14575.561076</td>
    </tr>
    <tr>
      <th>2020-12-31</th>
      <td>6971.148862</td>
      <td>17916.569270</td>
    </tr>
    <tr>
      <th>2021-12-31</th>
      <td>12807.501629</td>
      <td>23363.630794</td>
    </tr>
    <tr>
      <th>2022-12-31</th>
      <td>11535.316313</td>
      <td>26958.305163</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">data_temp</span><span class="p">[</span><span class="s1">&#39;1985&#39;</span><span class="p">:]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;observed&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">pred_1</span><span class="o">.</span><span class="n">predicted_mean</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;One-step ahead Forecast&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.7</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">pred_ci_1</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                <span class="n">pred_ci_1</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span>
                <span class="n">pred_ci_1</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.2</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Fecha&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Kg Lana&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Pronostico 1985- 2019 Lana_32_0.png" src="../../_images/Pronostico 1985- 2019 Lana_32_0.png" />
</div>
</div>
<p>PREDICE FEO</p>
<p>Esta es otra forma de predecir</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pred_dynamic</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get_prediction</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">&#39;2019-12-31&#39;</span><span class="p">),</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">full_results</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">pred_dynamic_ci</span> <span class="o">=</span> <span class="n">pred_dynamic</span><span class="o">.</span><span class="n">conf_int</span><span class="p">()</span>
<span class="n">pred_dynamic_ci</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>lower kilos_lana</th>
      <th>upper kilos_lana</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2019-12-31</th>
      <td>3628.063618</td>
      <td>14575.561076</td>
    </tr>
    <tr>
      <th>2020-12-31</th>
      <td>200.495028</td>
      <td>16260.034122</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">data_temp</span><span class="p">[</span><span class="s1">&#39;1985&#39;</span><span class="p">:]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;observed&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">pred_dynamic</span><span class="o">.</span><span class="n">predicted_mean</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;Dynamic Forecast&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">pred_dynamic_ci</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                <span class="n">pred_dynamic_ci</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span>
                <span class="n">pred_dynamic_ci</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.25</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">fill_betweenx</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">(),</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="s1">&#39;2018-01-01&#39;</span><span class="p">),</span> <span class="n">data_temp</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
                 <span class="n">alpha</span><span class="o">=</span><span class="mf">.1</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Fecha&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Kg Lana&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Pronostico 1985- 2019 Lana_36_0.png" src="../../_images/Pronostico 1985- 2019 Lana_36_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract the predicted and true values of our time series</span>
<span class="c1"># Extraiga los valores predichos y verdaderos de nuestra serie de tiempo</span>
<span class="n">y_forecasted</span> <span class="o">=</span> <span class="n">pred_dynamic</span><span class="o">.</span><span class="n">predicted_mean</span>
<span class="n">y_truth</span> <span class="o">=</span> <span class="n">data_temp</span><span class="p">[</span><span class="s1">&#39;2019-01-01&#39;</span><span class="p">:]</span>

<span class="c1"># Compute the mean square error</span>
<span class="c1"># Calcule el error cuadrático medio</span>
<span class="n">mse</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_truth</span><span class="p">,</span> <span class="n">y_forecasted</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;El error cuadrático medio de nuestros pronósticos es </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">mse</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>El error cuadrático medio de nuestros pronósticos es 15330933.66
</pre></div>
</div>
</div>
</div>
<p>Predice mal!</p>
<p>Predecimos 10 años en el futuro</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get forecast 500 steps ahead in future</span>
<span class="c1"># Obtenga una previsión de 10 pasos adelante en el futuro</span>
<span class="n">pred_uc</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">get_forecast</span><span class="p">(</span><span class="n">steps</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># Get confidence intervals of forecasts</span>
<span class="c1"># Obtenga intervalos de confianza de los pronósticos</span>
<span class="n">pred_ci</span> <span class="o">=</span> <span class="n">pred_uc</span><span class="o">.</span><span class="n">conf_int</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">data_temp</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;observed&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">pred_uc</span><span class="o">.</span><span class="n">predicted_mean</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Forecast&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">pred_ci</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                <span class="n">pred_ci</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span>
                <span class="n">pred_ci</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.25</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Año&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Kg Lana&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Pronostico 1985- 2019 Lana_41_0.png" src="../../_images/Pronostico 1985- 2019 Lana_41_0.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./cuadernos_jupyter/produccion"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      Por Garibaldi Anele - Allende Lucila<br/>
    
        &copy; Derechos de autor 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>